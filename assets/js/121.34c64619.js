(window.webpackJsonp=window.webpackJsonp||[]).push([[121],{891:function(t,a,s){"use strict";s.r(a);var e=s(6),r=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("blockquote",[s("p",[t._v("其实所有的步骤 install.md 里都有")])]),t._v(" "),s("h2",{attrs:{id:"装系统"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#装系统"}},[t._v("#")]),t._v(" 装系统")]),t._v(" "),s("h3",{attrs:{id:"刷入镜像"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#刷入镜像"}},[t._v("#")]),t._v(" 刷入镜像")]),t._v(" "),s("p",[t._v("rufus 拷入镜像")]),t._v(" "),s("h3",{attrs:{id:"改字体大小"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#改字体大小"}},[t._v("#")]),t._v(" 改字体大小")]),t._v(" "),s("p",[t._v("如果高分辨率屏幕看不清需要改字体大小，")]),t._v(" "),s("p",[t._v("setfont /usr/share/kbd/consolefonts/LatGrkCyr-12x12.psfu.gz")]),t._v(" "),s("h3",{attrs:{id:"改键盘布局"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#改键盘布局"}},[t._v("#")]),t._v(" 改键盘布局")]),t._v(" "),s("p",[t._v("loadkeys colemak")]),t._v(" "),s("p",[t._v("也可以通过conf文件进行指定")]),t._v(" "),s("h3",{attrs:{id:"检查引导方式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#检查引导方式"}},[t._v("#")]),t._v(" 检查引导方式")]),t._v(" "),s("p",[t._v("主要分为EFI引导+GPT分区表与BIOS(LEGACY)引导+MBR分区表两种，如果你不知道自己的引导方式，请在命令提示符下执行以下命令。")]),t._v(" "),s("p",[t._v("ls /sys/firmware/efi/efivars")]),t._v(" "),s("p",[t._v("输入命令并回车执行后，如果提示文件夹不存在，则表明你是以BIOS方式引导，否则为以EFI方式引导。")]),t._v(" "),s("h3",{attrs:{id:"联网"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#联网"}},[t._v("#")]),t._v(" 联网")]),t._v(" "),s("p",[t._v("arch并不能离线安装，因为我们需要联网来下载需要的组件，所以我们首先要连接网络。如果你是有线网并且路由器支持DHCP的话插上网线后先执行以下命令获取IP地址。")]),t._v(" "),s("p",[t._v("dhcpcd")]),t._v(" "),s("p",[t._v("用ip link 查看设备，如果设备没开，使用 ip link set wlan0 up 打开WiFi")]),t._v(" "),s("p",[t._v("iwlist wlan0 scan | grep ESSID 扫描WiFi网络")]),t._v(" "),s("p",[t._v("如果没有，即需要检查内核的固件信息 dmesg | grep firmware，获取更多提示")]),t._v(" "),s("h4",{attrs:{id:"bcm43228无线网卡问题"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#bcm43228无线网卡问题"}},[t._v("#")]),t._v(" bcm43228无线网卡问题")]),t._v(" "),s("p",[t._v("这个地方的话，用dmesg | grep firmware，能看到相关的信息。")]),t._v(" "),s("p",[t._v("b43-phy0 ERROR: You must go to http://wireless.kernel.or/en/users/Drivers/b43#devicefirmware and download the correct firmware for this driver version.")]),t._v(" "),s("p",[t._v("使用 lspci -vnn | grep 14e4 得到PCI-ID")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"center"}},[t._v("PCI-ID")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("Supported?")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("Chip ID")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("Modes")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("PHY version")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("Alternative")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("14e4:4359")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("yes(3.17+)")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("BCM43228")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("a/b/g/n")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("N(r16)")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("wl")])])])]),t._v(" "),s("p",[t._v("所以最后我使用 pacman -S broadcom-wl")]),t._v(" "),s("p",[t._v("参考")]),t._v(" "),s("p",[t._v("https://wireless.wiki.kernel.org/en/users/drivers/b43\nhttps://hiwangzi.com/2018/03/25/arch-install-with-bcm/\nhttps://wiki.archlinux.org/index.php/Broadcom_wireless")]),t._v(" "),s("h3",{attrs:{id:"改时间"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#改时间"}},[t._v("#")]),t._v(" 改时间")]),t._v(" "),s("p",[t._v("timedatectl set-ntp true")]),t._v(" "),s("h3",{attrs:{id:"分区"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#分区"}},[t._v("#")]),t._v(" 分区")]),t._v(" "),s("p",[t._v("fdisk -l 或者lsblk 查看当前分区，因为我们是EFI/GPT方式引导，但是没有这个较小的并且类型为EFI的引导分区（这种情况一般只会出现在新的硬盘），那么你需要先创建一个引导分区。")]),t._v(" "),s("p",[t._v("用cfisk /dev/sda 首先删除ssd上所有的Windows文件，用这个直接分就行了。然后开始格式化")]),t._v(" "),s("p",[t._v("mkfs.fat -F32 /dev/sda1\nmkfs.ext4 /dev/sda2\nmkswap /dev/sda3\nswapon /dev/sda3")]),t._v(" "),s("p",[t._v("然后开始挂载分区\nmount /dev/sda2 /mnt\nmkdir /mnt/boot\nmount /dev/sda1 /mnt/boot")]),t._v(" "),s("h3",{attrs:{id:"改镜像源"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#改镜像源"}},[t._v("#")]),t._v(" 改镜像源")]),t._v(" "),s("p",[t._v("vim /etc/pacman.d/mirrorlist")]),t._v(" "),s("p",[t._v("Server = https://mirrors6.tuna.tsinghua.edu.cn/archlinux/$repo/os/$arch")]),t._v(" "),s("p",[t._v("pacman -Syy")]),t._v(" "),s("h3",{attrs:{id:"安装基本包"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装基本包"}},[t._v("#")]),t._v(" 安装基本包")]),t._v(" "),s("p",[t._v("pacstrap /mnt base linux linux-firmware base-devel dhcpcd neovim zsh")]),t._v(" "),s("h3",{attrs:{id:"配置fstab"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#配置fstab"}},[t._v("#")]),t._v(" 配置Fstab")]),t._v(" "),s("p",[t._v("genfstab -U /mnt >> /mnt/etc/fstab\ncat /mnt/etc/fstab")]),t._v(" "),s("h3",{attrs:{id:"chroot并本地化"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#chroot并本地化"}},[t._v("#")]),t._v(" Chroot并本地化")]),t._v(" "),s("p",[t._v("arch-chroot /mnt\nln -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime\nhwclock --systohc")]),t._v(" "),s("p",[t._v("vim /mnt/etc/locale.gen")]),t._v(" "),s("p",[t._v("设置en_US还有zh_CN，然后chroot并locale-gen")]),t._v(" "),s("p",[t._v("vim /mnt/etc/locale.conf 设置LANG=en_US.UTF-8")]),t._v(" "),s("p",[t._v("再设置主机名vim /mnt/etc/hostname 设置Arch")]),t._v(" "),s("p",[t._v("还有vim /mnt/etc/hosts，在文件末添加如下内容")]),t._v(" "),s("p",[t._v("127.0.0.1   localhost\n::1     localhost\n127.0.1.1   Arch.localdomain    Arch")]),t._v(" "),s("h3",{attrs:{id:"改密码"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#改密码"}},[t._v("#")]),t._v(" 改密码")]),t._v(" "),s("p",[t._v("chroot然后passwd")]),t._v(" "),s("h3",{attrs:{id:"安装intel-ucode"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装intel-ucode"}},[t._v("#")]),t._v(" 安装Intel-ucode")]),t._v(" "),s("p",[t._v("pacman -S intel-ucode")]),t._v(" "),s("h3",{attrs:{id:"安装bootloader"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装bootloader"}},[t._v("#")]),t._v(" 安装Bootloader")]),t._v(" "),s("p",[t._v("pacman -S grub efibootmgr os-prober ntfs-3g")]),t._v(" "),s("p",[t._v("生成配置文件，grub-mkconfig -o /boot/grub/grub.cfg")]),t._v(" "),s("p",[t._v("确认系统架构，uname -m，然后部署grub")]),t._v(" "),s("p",[t._v("grub-install --target=x86_64-efi --efi-directory=/boot --bootloader-id=grub")]),t._v(" "),s("h3",{attrs:{id:"卸载"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#卸载"}},[t._v("#")]),t._v(" 卸载")]),t._v(" "),s("p",[t._v("umount -R /mnt")]),t._v(" "),s("h2",{attrs:{id:"重启开始进一步配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#重启开始进一步配置"}},[t._v("#")]),t._v(" 重启开始进一步配置")]),t._v(" "),s("h3",{attrs:{id:"安装基本工具"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装基本工具"}},[t._v("#")]),t._v(" 安装基本工具")]),t._v(" "),s("p",[t._v("pacman -S neofetch man")]),t._v(" "),s("p",[t._v("安装xinit\nyay -S xorg-xinit")]),t._v(" "),s("p",[t._v("其他一些东西\nyay -S smb gcc gdb feh vlc python ranger python-pip alacritty htop")]),t._v(" "),s("h3",{attrs:{id:"添加用户"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#添加用户"}},[t._v("#")]),t._v(" 添加用户")]),t._v(" "),s("p",[t._v("groupadd zjgcjy\nuseradd -m -s /bin/zsh -g zjgcjy zjgcjy\npasswd zjgcjy")]),t._v(" "),s("h3",{attrs:{id:"添加sudo权限"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#添加sudo权限"}},[t._v("#")]),t._v(" 添加sudo权限")]),t._v(" "),s("p",[t._v("chmod u+w /etc/sudoers\nnvim /etc/sudoers\nzjgcjy ALL=(ALL) ALL\nchmod u-w /etc/sudoers")]),t._v(" "),s("h3",{attrs:{id:"安装显卡"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装显卡"}},[t._v("#")]),t._v(" 安装显卡")]),t._v(" "),s("p",[t._v("sudo pacman -S xf86-video-intel\nsudo pacman -S xorg")]),t._v(" "),s("p",[t._v("显卡驱动：sudo pacman -S mesa lib32-mesa xf86-video-intel")]),t._v(" "),s("p",[t._v("硬件视频加速：如果你的 Intel CPU 架构是 Broadwell (6代) 或以上的安装intel-media-driver，反之则安装libva-intel-driver lib32-libva-intel-driver。")]),t._v(" "),s("p",[t._v("OpenCL：如果你的 Intel CPU 架构是 Broadwell (6代) 或以上的安装intel-compute-runtime ocl-icd，反之则安装beignet ocl-icd，也可以选择不安装。")]),t._v(" "),s("p",[t._v("Vulkan：sudo pacman -S vulkan-icd-loader lib32-vulkan-icd-loader vulkan-intel lib32-vulkan-intel")]),t._v(" "),s("h3",{attrs:{id:"触摸板驱动"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#触摸板驱动"}},[t._v("#")]),t._v(" 触摸板驱动")]),t._v(" "),s("p",[t._v("pacman -S xf86-input-synaptics")]),t._v(" "),s("p",[t._v("wiki上说xf86-input-synaptics 已经停止维护，请尽量使用 libinput。\nhttps://www.cnblogs.com/xiaozhang9/p/6157934.html")]),t._v(" "),s("h3",{attrs:{id:"链接wifi"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#链接wifi"}},[t._v("#")]),t._v(" 链接WiFi")]),t._v(" "),s("p",[t._v("yay -S wireless-tools iw")]),t._v(" "),s("p",[t._v("ip link查看是否开启")]),t._v(" "),s("p",[t._v("sudo iwlist wlp3s0 scan | grep ESSID")]),t._v(" "),s("p",[t._v("或者")]),t._v(" "),s("p",[t._v("sudo iw dev wlp3s0 scan | less\nsudo iw dev wlp3s0 scan | grep SSID")]),t._v(" "),s("p",[t._v("如果没有密码  sudo iw dev wlp3s0 connect SSID")]),t._v(" "),s("p",[t._v("有密码的话，需要用到 wpa_supplicant")]),t._v(" "),s("p",[t._v("wpa_passphrase wifiname wifinamepassword > xxx.conf")]),t._v(" "),s("p",[t._v("sudo wpa_supplicant -c xxx.conf -i wlp3s0 &")]),t._v(" "),s("p",[t._v("然后 sudo dhcpcd wlp3s0")]),t._v(" "),s("p",[t._v("参考\nhttps://linux.cn/article-4015-1.html\nhttps://hiwangzi.com/2018/03/25/arch-install-with-bcm/\nhttps://github.com/TsReaper/arch-config/blob/master/Tools/wifi.sh")]),t._v(" "),s("h3",{attrs:{id:"aur和archcn"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#aur和archcn"}},[t._v("#")]),t._v(" aur和archcn")]),t._v(" "),s("p",[t._v("添加archlinuxcn源\n在 /etc/pacman.conf 文件末尾添加以下两行：")]),t._v(" "),s("p",[t._v("[archlinuxcn]\nServer = https://mirrors6.tuna.tsinghua.edu.cn/archlinuxcn/$arch")]),t._v(" "),s("p",[t._v("ILoveCandy 可以设置彩蛋")]),t._v(" "),s("p",[t._v("然后安装 GPG key")]),t._v(" "),s("p",[t._v("sudo pacman -Syu\nsudo pacman -S archlinuxcn-keyring")]),t._v(" "),s("p",[t._v("rm -fr /etc/pacman.d/gnupg\npacman-key --init\npacman-key --populate archlinux\npacman-key --populate archlinuxcn")]),t._v(" "),s("p",[t._v("并配置aur")]),t._v(" "),s("h3",{attrs:{id:"yay"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#yay"}},[t._v("#")]),t._v(" yay")]),t._v(" "),s("p",[t._v("sudo pacman -S yay")]),t._v(" "),s("p",[t._v("执行以下命令修改 aururl")]),t._v(" "),s("p",[t._v('yay --aururl "https://aur.tuna.tsinghua.edu.cn" --save\n修改的配置文件位于 ~/.config/yay/config.json ，还可通过以下命令查看修改过的配置 yay -P -g')]),t._v(" "),s("h3",{attrs:{id:"声音"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#声音"}},[t._v("#")]),t._v(" 声音")]),t._v(" "),s("p",[t._v("首先挂载smb")]),t._v(" "),s("p",[t._v("smbclient //192.168.123.7/pi  -U pi\nsudo mount -t cifs -o username=pi //192.168.123.7/pi /mnt")]),t._v(" "),s("p",[t._v("然后用vlc进行测试，如果没声音，首先看一下aplay -l声卡ID和设备ID，目前版本的 ALSA 安装后，所有声道默认是静音的，必须手动解除。")]),t._v(" "),s("p",[t._v("yay -S alsa-utils")]),t._v(" "),s("p",[t._v("alsamixer，然后amixer sset Master unmute取消静音，speaker-test -c 2试听，alsamixer可以使用方向键移动、m键开关、zq xw ce键调节“左” “双” “右”声道")]),t._v(" "),s("p",[t._v("参考\nhttps://blog.51cto.com/jxnewdate/2090838")]),t._v(" "),s("h3",{attrs:{id:"屏幕亮度"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#屏幕亮度"}},[t._v("#")]),t._v(" 屏幕亮度")]),t._v(" "),s("p",[t._v("x提供了这样一个工具xbacklight\nxbacklight -get\nxbacklight -set 50\nxbacklight -inc 50\nxbacklight -dec 50")]),t._v(" "),s("p",[t._v("$ xbacklight =30%")]),t._v(" "),s("p",[t._v("事实上Linux下的屏幕亮度在这个位置")]),t._v(" "),s("p",[t._v("屏幕亮度调到100\necho 100 > /sys/class/backlight/intel_backlight/brightness")]),t._v(" "),s("p",[t._v("查看屏幕亮度最大值\ncat /sys/class/backlight/intel_backlight/max_brightness")]),t._v(" "),s("h2",{attrs:{id:"网络管理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#网络管理"}},[t._v("#")]),t._v(" 网络管理")]),t._v(" "),s("p",[t._v("pacman -S vim dialog wpa_supplicant ntfs-3g networkmanager netctl")]),t._v(" "),s("p",[t._v("到现在我们已经安装好了桌面环境，但是还有一件事情需要我们提前设置一下。由于我们之前使用的一直都是netctl这个自带的网络服务，而桌面环境使用的是NetworkManager这个网络服务，所以我们需要禁用netctl并启用NetworkManager：")]),t._v(" "),s("p",[t._v("sudo systemctl disable netctl\nsudo systemctl enable NetworkManager\nsudo pacman -S network-manager-applet")]),t._v(" "),s("p",[t._v("这样开机以后我们就可以在图形界面下配置我们的网络")]),t._v(" "),s("h3",{attrs:{id:"acpid"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#acpid"}},[t._v("#")]),t._v(" acpid")]),t._v(" "),s("p",[t._v("yay -S acpid\nsudo systemctl restart acpid.service")]),t._v(" "),s("p",[t._v("通过 journalctl -f或者acpi_listen查看记录，acpi_listen的输出会被作为$1, $2 , $3 & $4参数发送给/etc/acpi/handler.sh")]),t._v(" "),s("p",[t._v("sudo nvim /etc/acpi/events/bright-up")]),t._v(" "),s("p",[t._v("event=video/brightnessup\naction=/etc/acpi/actions/brightness.sh %e")]),t._v(" "),s("p",[t._v("sudo nvim /etc/acpi/actions/brightness 按照格式写入控制指令，down也是一样的")]),t._v(" "),s("p",[t._v("亮度通过\necho -n 50 > /sys/class/backlight/acpi_video0/brightness")]),t._v(" "),s("p",[t._v("声音通过\naction=amixer set Master 5-")]),t._v(" "),s("p",[t._v("静音通过\naction=amixer set Master toggle")]),t._v(" "),s("p",[t._v("参考\nhttps://blog.csdn.net/liberty1997/article/details/88648294\nhttps://wiki.archlinux.org/index.php/Acpid")]),t._v(" "),s("p",[t._v("插一句，声音也可以通过pactl来控制\nhttps://wiki.archlinux.org/index.php/PulseAudio")]),t._v(" "),s("h3",{attrs:{id:"i3gaps"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#i3gaps"}},[t._v("#")]),t._v(" i3gaps")]),t._v(" "),s("p",[t._v("yay -S i3-gaps i3blocks i3lock i3status polybar rofi dunst picom")]),t._v(" "),s("p",[t._v("如果想要登陆tty之后自动进入桌面，如果使用 zsh，则编辑 ~/.zprofile。")]),t._v(" "),s("div",{staticClass:"language-sh line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token environment constant"}},[t._v("$DISPLAY")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token environment constant"}},[t._v("$XDG_VTNR")]),t._v(" -eq "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("then")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("exec")]),t._v(" startx\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("fi")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br")])]),s("p",[t._v("i3的标题栏还是有点难看的，在config文件中加入")]),t._v(" "),s("p",[t._v("new_window none\nnew_float normal\nhide_edge_borders both")]),t._v(" "),s("h3",{attrs:{id:"rofi"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#rofi"}},[t._v("#")]),t._v(" rofi")]),t._v(" "),s("p",[t._v("替代i3-dmenu 生成默认的配置文件\nmkdir -p ~/.config/rofi\nrofi -dump-config > ~/.config/rofi/config.rasi")]),t._v(" "),s("p",[t._v("编辑 vim .i3/config")]),t._v(" "),s("p",[t._v("添加 bindsym $mod+d exec rofi -show run")]),t._v(" "),s("p",[t._v("rofi-theme-selector 选择你想要的主题即可")]),t._v(" "),s("p",[t._v("首先为rofi添加上图标,先配置你的启动配置,是以命令行参数的形式添加的配置,命令如下\nrofi -show drun -theme gaara-theme")]),t._v(" "),s("p",[t._v('配置\nconfiguration {\ntheme: "mytheme";\n}')]),t._v(" "),s("p",[t._v("https://www.jianshu.com/p/f25465ca5e73\nhttps://github.com/davatorium/rofi/wiki/Themes")]),t._v(" "),s("h3",{attrs:{id:"alacritty"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#alacritty"}},[t._v("#")]),t._v(" alacritty")]),t._v(" "),s("p",[t._v("https://gitee.com/siyingcheng/my_manjaro_i3wm_config/blob/master/config/alacritty/alacritty.yml")]),t._v(" "),s("h3",{attrs:{id:"polybar"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#polybar"}},[t._v("#")]),t._v(" polybar")]),t._v(" "),s("p",[t._v("install -Dm644 /usr/share/doc/polybar/config $HOME/.config/polybar/config")]),t._v(" "),s("p",[t._v("弄一份 example 的配置文件过来")]),t._v(" "),s("p",[t._v("编辑启动文件 vim ~/.config/polybar/launch.sh 如下：")]),t._v(" "),s("div",{staticClass:"language-sh line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token shebang important"}},[t._v("#!/usr/bin/env bash")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("killall")]),t._v(" -q polybar\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),t._v(" pgrep -u "),s("span",{pre:!0,attrs:{class:"token environment constant"}},[t._v("$UID")]),t._v(" -x polybar "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("/dev/null"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sleep")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("done")]),t._v("\npolybar example "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Bars launched..."')]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br")])]),s("p",[t._v("然后chmod +x ~/.config/polybar/launch.sh")]),t._v(" "),s("p",[t._v("在i3的配置里面写exec_always --no-startup-id ~/.config/polybar/launch.sh")]),t._v(" "),s("p",[t._v("如果关闭原来的bar，需要注释掉i3bar_command i3bar")]),t._v(" "),s("p",[t._v("具体配置文件参考\nhttps://blog.csdn.net/r8l8q8/article/details/103889972\nhttps://www.yucklys.com/post/i3-nord-theme/\nhttps://github.com/Yucklys/polybar-nord-theme")]),t._v(" "),s("p",[t._v("主题\nhttps://www.yucklys.com/post/i3-nord-theme/#info-hackspeed")]),t._v(" "),s("h3",{attrs:{id:"feh"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#feh"}},[t._v("#")]),t._v(" feh")]),t._v(" "),s("p",[t._v("墙纸设置")]),t._v(" "),s("p",[t._v("exec_always --no-startup-id feh --randomize --bg-scale ~/images/bg")]),t._v(" "),s("h3",{attrs:{id:"picom"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#picom"}},[t._v("#")]),t._v(" picom")]),t._v(" "),s("p",[t._v("窗口渲染器")]),t._v(" "),s("p",[t._v("nvim ~/.config/i3/\nexec_always --no-startup-id picom &")]),t._v(" "),s("h3",{attrs:{id:"xresources"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#xresources"}},[t._v("#")]),t._v(" xresources")]),t._v(" "),s("p",[t._v("https://github.com/TsReaper/arch-config/blob/master/.Xresources\nhttp://good5dog5.github.io/2016/04/20/intro-xSystem-xinit/")]),t._v(" "),s("p",[t._v("以上程序，都会直接或间接地执行，~/.xinitrc 或 /etc/X11/xinit/xinitrc. 这就是我们要从下列文件引用 xprofile 的原因.\n在用 init 开启会话之时引用 xprofile\n[ -f /etc/xprofile ] && source /etc/xprofile\n[ -f ~/.xprofile ] && source ~/.xprofile")]),t._v(" "),s("h3",{attrs:{id:"ranger"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ranger"}},[t._v("#")]),t._v(" ranger")]),t._v(" "),s("p",[t._v('首先复制配置文件到主目录:\nranger --copy-config=all\n找到文件scope.sh中, 在externsions部分注释掉不想预览的文件类型, 在那行上面添加"#"注释掉即可. ranger在预览rar等压缩包时会运行得比较慢.')]),t._v(" "),s("p",[t._v("图标配置\nhttps://github.com/alexanderjeurissen/ranger_devicons")]),t._v(" "),s("h3",{attrs:{id:"dunst"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#dunst"}},[t._v("#")]),t._v(" dunst")]),t._v(" "),s("p",[t._v("系统通知\n安装:sudo pacman -S dunst\n配置文件:~/.config/dunst/dunstrc")]),t._v(" "),s("p",[t._v("wget https://raw.githubusercontent.com/dunst-project/dunst/master/dunstrc\nnano ~/.config/dunst/dunstrc")]),t._v(" "),s("p",[t._v("首先，使用systemctl enable将服务设置为在引导时运行：\nsudo systemctl enable dunst\n接下来，使用systemctl start启动服务：\nsudo systemctl start")]),t._v(" "),s("p",[t._v("同时需要安装libnotify")]),t._v(" "),s("p",[t._v("使用notify-send 进行测试")]),t._v(" "),s("h3",{attrs:{id:"mpd-ncmpcpp-音乐播放"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mpd-ncmpcpp-音乐播放"}},[t._v("#")]),t._v(" Mpd+ncmpcpp-音乐播放")]),t._v(" "),s("p",[t._v("安装:sudo pacman -S mpd ncmpcpp\n配置文件:mpd 单用户 ~/.config/mpd/mpd.conf ncmpcpp: ~/.ncmpcpp/config")]),t._v(" "),s("p",[t._v("https://github.com/MusicPlayerDaemon/ncmpc\nhttps://www.linuxidc.com/Linux/2008-10/17031.htm\nhttps://my.oschina.net/u/4320349/blog/3982007\nhttps://github.com/AshNobita/i3andpolybarconfig/blob/master/.config/i3/config")]),t._v(" "),s("p",[t._v("修改.xinitrc，添加如下内容\nexec mpd ~/.config/mpd/mpd.conf")]),t._v(" "),s("p",[t._v("安装完后命令行键入ncmpcpp进入，你会发现播放目录是空的，不用担心，看到下面的提示，正常连接上的话，一进入下面会显示connected to xxxx，然后按u刷新音乐数据库，接着按2浏览数据库文件，选择播放即可。这时候polybar上的音乐模块也正常显示了。")]),t._v(" "),s("h3",{attrs:{id:"proxy"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#proxy"}},[t._v("#")]),t._v(" proxy")]),t._v(" "),s("p",[t._v("shadowsocks  proxychains shadowsocks-qt5 qv2ray")]),t._v(" "),s("h3",{attrs:{id:"网易云和virtualbox"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#网易云和virtualbox"}},[t._v("#")]),t._v(" 网易云和virtualbox")]),t._v(" "),s("p",[t._v("https://github.com/topics/netease-cloud-music\nhttps://www.cnblogs.com/kainhuck/p/12893643.html")]),t._v(" "),s("p",[t._v("virtual box需要安装 linux-headers")]),t._v(" "),s("p",[t._v("sudo pacman -S virtualbox\nuname -r eg: 4.14.25-1-MANJARO 内核版本为414\n扩展包 sudo pacman -S virtualbox-ext-oracle\n添加用户到vboxusers组 sudo usermod -a -G vboxusers $YourUsername\n重启或执行sudo modrobe vboxdrv？？？？")]),t._v(" "),s("h2",{attrs:{id:"teamviewer"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#teamviewer"}},[t._v("#")]),t._v(" teamviewer")]),t._v(" "),s("p",[t._v("teamviewer --daemon start\nteamviewer --daemon enable\n用不了")]),t._v(" "),s("h3",{attrs:{id:"chrome"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#chrome"}},[t._v("#")]),t._v(" chrome")]),t._v(" "),s("p",[t._v("安装chromium\nbindsym $mod+c exec chromium")]),t._v(" "),s("h3",{attrs:{id:"字体配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#字体配置"}},[t._v("#")]),t._v(" 字体配置")]),t._v(" "),s("p",[t._v("使用nerd的Source Code Pro，")]),t._v(" "),s("p",[t._v("然后更新 fontconfig 的字体缓存：fc-cache -vf。然后fc-list查看有没有")]),t._v(" "),s("p",[t._v("安装图标字体 ttf-font-awesome，这个是为了i3status用的。")]),t._v(" "),s("h4",{attrs:{id:"关于中文字体"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#关于中文字体"}},[t._v("#")]),t._v(" 关于中文字体")]),t._v(" "),s("p",[t._v("采用开源字体，文泉驿微米黑 wqy-microhei")]),t._v(" "),s("p",[t._v("文泉驿字体系列 sudo pacman -S wqy-bitmapfont wqy-microhei wqy-microhei-lite wqy-zenhei")]),t._v(" "),s("p",[t._v("其他一些基本字体，\nsudo pacman -S ttf-roboto noto-fonts ttf-dejavu")]),t._v(" "),s("p",[t._v("Consolas 是英文字体，有个 AUR")]),t._v(" "),s("h4",{attrs:{id:"中文输入法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#中文输入法"}},[t._v("#")]),t._v(" 中文输入法")]),t._v(" "),s("p",[t._v("不推荐/etc/locale.conf使用全局中文locale，会导致tty乱码。可以在~/.xinitrc或~/.xprofile单独设置中文locale")]),t._v(" "),s("p",[t._v("export LANG=zh_CN.UTF-8\nexport LANGUAGE=zh_CN:en_US")]),t._v(" "),s("p",[t._v("rime输入法了解一下，pacman -S ibus-rime")]),t._v(" "),s("p",[t._v("export GTK_IM_MODULE=ibus\nexport XMODIFIERS=@im=ibus\nexport QT_IM_MODULE=ibus\nibus-daemon -d -x")]),t._v(" "),s("p",[t._v("这个时候还是繁体，而且有乱码。")]),t._v(" "),s("h3",{attrs:{id:"禁止-beep"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#禁止-beep"}},[t._v("#")]),t._v(" 禁止 beep")]),t._v(" "),s("p",[t._v("默认情况下，终端里进行错误输入会发出很大一声 beep，这个好像是主板上的硬件直接发出来的，所以调声音没用。在 /etc/modprobe.d 中加入 no-beep.conf 文件，内容为：")]),t._v(" "),s("p",[t._v("1 blacklist pcspkr")]),t._v(" "),s("p",[t._v("禁掉该模块就不会发出 beep 的声音了。")]),t._v(" "),s("h3",{attrs:{id:"外接屏幕"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#外接屏幕"}},[t._v("#")]),t._v(" 外接屏幕")]),t._v(" "),s("p",[t._v("进入图形界面后，再通过  xrandr --auto  命令自动检测并启用外接屏幕。外接屏幕内容的调整可参考  man xrandr")]),t._v(" "),s("p",[t._v("默认屏幕是eDP1，外接屏幕是DP1（VGA）")]),t._v(" "),s("p",[t._v("我的/usr/bin/monitor.sh文件内容如下：")]),t._v(" "),s("div",{staticClass:"language-sh line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token shebang important"}},[t._v("#!/bin/bash")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("intern")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("eDP1\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("extern")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("DP1\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" xrandr "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("grep")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$extern")]),t._v(' disconnected"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("then")]),t._v("\n    xrandr --output "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$extern")]),t._v('"')]),t._v(" --off --output "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$intern")]),t._v('"')]),t._v(" --auto "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 内置")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v("\n\txrandr --output "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$intern")]),t._v('"')]),t._v(" --primary --auto --output "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$extern")]),t._v('"')]),t._v(" --right-of "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$intern")]),t._v('"')]),t._v(" --auto\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("fi")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br")])]),s("p",[t._v("关闭外接显示器\nxrandr --output DP1 --off\n开启外接显示器\nxrandr --output DP1 --auto\n右边显示外接屏幕（相当于第二个工作区，关闭屏幕不退出）\nxrandr --output DP1 --right-of eDP1\n同步显示外接屏幕(外接的分辨率有问题，关闭屏幕不退出)\nxrandr --output DP1 --same-as eDP1\n然后关闭内置显示器（外接分辨率修复，只用外接屏幕）\nxrandr --output eDP1 --off\n重新打开内置屏幕\nxrandr --output eDP1 --auto\n如果关闭外置显示器后，想要回收外置显示器的东西，也需要\nxrandr --output eDP1 --auto")]),t._v(" "),s("p",[t._v("https://wiki.archlinux.org/index.php/Udev#Execute_on_VGA_cable_plug_in\nhttps://blog.csdn.net/liberty1997/article/details/88658763")]),t._v(" "),s("h3",{attrs:{id:"时间"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#时间"}},[t._v("#")]),t._v(" 时间")]),t._v(" "),s("p",[t._v("Windows 认为硬件时间是当地时间，而 Linux 认为硬件时间是 UTC+0 标准时间，这就很尴尬了。")]),t._v(" "),s("p",[t._v("通过 timedatectl set-local-rtc 1 让 Linux 认为硬件时间是当地时间。")]),t._v(" "),s("p",[t._v("这个操作可能会改变硬件时间，之后需要去 BIOS 里调一下时间。")]),t._v(" "),s("h2",{attrs:{id:"省电"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#省电"}},[t._v("#")]),t._v(" 省电")]),t._v(" "),s("p",[t._v("不做其它处理的话，Linux 耗电比 Wndows 快很多，因为 Linux 下对省电做的优化比较少。")]),t._v(" "),s("p",[t._v("laptop_mode 工具就是一个很好的省电工具，有一个 AUR：https://aur.archlinux.org/packages/laptop-mode-tools/")]),t._v(" "),s("p",[t._v("默认情况下，插着电的时候 laptop_mode 是关闭的，只有用电池的时候 laptop_mode 是开启的。不过 laptop_mode 开启的时候会禁止独立显卡等设备，所以如果在不插电的情况下想用独立显卡，记得提前  laptop_mode stop  以禁用 laptop_mode，之后  laptop_mode start  再次启用即可。")]),t._v(" "),s("p",[t._v("laptop_mode 省电效果非常好，我的机器用上了以后，Linux 下用电池支撑的时间已经约等于 Windows 了（大概能撑 4～5 小时，之前不用 laptop_mode 只能 2 小时）。")]),t._v(" "),s("h3",{attrs:{id:"grub主题"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#grub主题"}},[t._v("#")]),t._v(" grub主题")]),t._v(" "),s("p",[t._v("https://www.gnome-look.org/browse/cat/109/"),s("br"),t._v("\nhttps://www.linuxprobe.com/grub2-themes.html")]),t._v(" "),s("h2",{attrs:{id:"redshift"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#redshift"}},[t._v("#")]),t._v(" redshift")]),t._v(" "),s("p",[t._v("https://wiki.archlinux.org/index.php/Redshift_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)\nhttps://blog.csdn.net/dreamhome_s/article/details/78439098")]),t._v(" "),s("h2",{attrs:{id:"蓝牙"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#蓝牙"}},[t._v("#")]),t._v(" 蓝牙")]),t._v(" "),s("p",[t._v("安装 bluez，这个软件包提供蓝牙的协议栈。\n安装 bluez-utils")]),t._v(" "),s("p",[t._v("然后用bluetoothctl进行控制")]),t._v(" "),s("p",[t._v("power on\nscan on\ntrust\npair\nconnect")]),t._v(" "),s("p",[t._v("测试发现鼠标可以，耳机有问题。配对成功, 但连接失败")]),t._v(" "),s("p",[t._v("你可能在 bluetoothctl 里面看到下面的错误:")]),t._v(" "),s("p",[t._v("systemctl status bluetooth\njournalctl -n 20")]),t._v(" "),s("p",[t._v("你可能会在日志里看到下面类似的信息:")]),t._v(" "),s("p",[t._v("bluetoothd[5556]: a2dp-sink profile connect failed for 00:1D:43:6D:03:26: Protocol not available")]),t._v(" "),s("p",[t._v("这是因为没有安装pulseaudio-bluetooth 包导致的。 如果确实没有安装，安装一下这个包，然后重启一下PulseAudio。")]),t._v(" "),s("p",[t._v("安装 pulseaudio-bluetooth")]),t._v(" "),s("p",[t._v("我这边最后发现的问题是 pulseaudio 没有启动， pulseaudio --start就行了。\n这里涉及到很多关于在Linux下如何处理声音的部分，")]),t._v(" "),s("p",[t._v("参考")]),t._v(" "),s("p",[t._v("https://wiki.archlinux.org/index.php/PulseAudio")]),t._v(" "),s("p",[t._v("关于声卡\nhttps://blog.csdn.net/Tang_Chuanlin/article/details/86081102")]),t._v(" "),s("h2",{attrs:{id:"其他"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#其他"}},[t._v("#")]),t._v(" 其他")]),t._v(" "),s("p",[t._v("unarchiver : 命令行解压，支持unar、lsar命令\nfile-roller : 桌面GUI解压软件\nbaidupcs-go：百度网盘-命令行版\nyoudao-dict\nthunderbird\nSimpleScreenRecorder录屏\nhotshots截图\t\t\nFFmpeg\nPandoc\narc-kde\npeek\nobs-studio\nbleachbit     #快速释放磁盘空间，守护隐私，释放缓存，清除cookie，清除浏览历史，清除临时文件、日志等\nsend-anywhere")]),t._v(" "),s("h2",{attrs:{id:"参考"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#参考"}},[t._v("#")]),t._v(" 参考")]),t._v(" "),s("p",[t._v("https://www.viseator.com/2017/05/19/arch_setup/\nhttps://www.cnblogs.com/kainhuck/p/12893643.html\nhttps://www.cnblogs.com/tsreaper/p/arch-config.html")]),t._v(" "),s("p",[t._v("https://io-oi.me/tech/hello-arch-linux/")])])}),[],!1,null,null,null);a.default=r.exports}}]);
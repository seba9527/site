(window.webpackJsonp=window.webpackJsonp||[]).push([[86],{526:function(s,a,t){"use strict";t.r(a);var n=t(14),e=Object(n.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("hr"),s._v(" "),t("blockquote",[t("p",[s._v("window程序设计1\n关于winmain和MessageBox API。")])]),s._v(" "),t("h2",{attrs:{id:"winmain"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#winmain"}},[s._v("#")]),s._v(" Winmain")]),s._v(" "),t("div",{staticClass:"language-c line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-c"}},[t("code",[t("span",{pre:!0,attrs:{class:"token macro property"}},[s._v("#"),t("span",{pre:!0,attrs:{class:"token directive keyword"}},[s._v("include")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("<windows.h>")])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" WINAPI "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("WinMain")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("HINSTANCE hInstance"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" HINSTANCE hPrevInstance"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                   PSTR szCmdLine"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" iCmdShow"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("MessageBox")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("NULL")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("TEXT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Hello, Windows 98!"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("TEXT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"HelloMsg"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])]),t("p",[s._v("WINDOWS.H是主要的含入文件，它包含了其它Windows表头文件，这些表头文件的某些也包含了其它表头文件。这些表头文件中最重要的和最基本的是：")]),s._v(" "),t("p",[s._v("WINDEF.H 基本型态定义。\nWINNT.H 支持Unicode的型态定义。\nWINBASE.H Kernel函数。\nWINUSER.H 使用者接口函数。\nWINGDI.H 图形设备接口函数。")]),s._v(" "),t("p",[s._v("WinMain函数声明为返回一个int值。WINAPI标识符在WINDEF.H定义，语句如下：")]),s._v(" "),t("div",{staticClass:"language-c line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-c"}},[t("code",[t("span",{pre:!0,attrs:{class:"token macro property"}},[s._v("#"),t("span",{pre:!0,attrs:{class:"token directive keyword"}},[s._v("define")]),s._v(" WINAPI \\_\\_stdcall")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"关于winmain参数"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#关于winmain参数"}},[s._v("#")]),s._v(" 关于Winmain参数")]),s._v(" "),t("p",[s._v("第一个参数被称作「执行实体句柄」。同一应用程序的所有执行实体共享程序和只读的内存，程序通过检查hPrevInstance参数就能够确定自身的其它执行实体是否正在运行。在32位Windows版本中，该概念已被抛弃。\n第二个参数总是NULL（定义为0）。\n第三个参数是用于执行程序的命令列。某些Windows应用程序利用它在程序启动时将文件加载内存。\n第四个参数指出程序最初显示的方式，可以是正常的或者是最大化地充满整个画面，或者是最小化显示在工作列中。")]),s._v(" "),t("h2",{attrs:{id:"messagebox"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#messagebox"}},[s._v("#")]),s._v(" MessageBox")]),s._v(" "),t("p",[s._v("MessageBox函数用于显示短信息")]),s._v(" "),t("h3",{attrs:{id:"messagebox参数"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#messagebox参数"}},[s._v("#")]),s._v(" MessageBox参数")]),s._v(" "),t("p",[s._v("第一个参数通常是窗口句柄，我们将在第三章介绍其含义。\n第二个参数是在消息框主体中显示的字符串。\n第三个参数是出现在消息框标题列上的字符串。在HELLMSG.C中，这些文字字符串的每一个都被封装在一个TEXT宏中。通常不必将所有字符串都封装在TEXT宏中，但如果想将程序转换为Unicode字符集，这确是一个好主意。\nMessageBox的第四个参数可以是在WINUSER.H中定义的一组以前缀MB_开始的常数的组合。")]),s._v(" "),t("div",{staticClass:"language-c line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-c"}},[t("code",[t("span",{pre:!0,attrs:{class:"token macro property"}},[s._v("#"),t("span",{pre:!0,attrs:{class:"token directive keyword"}},[s._v("define")]),s._v("     MB_OK                    0x00000000L")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token macro property"}},[s._v("#"),t("span",{pre:!0,attrs:{class:"token directive keyword"}},[s._v("define")]),s._v("     MB_OKCANCEL              0x00000001L")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token macro property"}},[s._v("#"),t("span",{pre:!0,attrs:{class:"token directive keyword"}},[s._v("define")]),s._v("     MB_ABORTRETRYIGNORE      0x00000002L")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token macro property"}},[s._v("#"),t("span",{pre:!0,attrs:{class:"token directive keyword"}},[s._v("define")]),s._v("     MB_YESNOCANCEL           0x00000003L")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token macro property"}},[s._v("#"),t("span",{pre:!0,attrs:{class:"token directive keyword"}},[s._v("define")]),s._v("     MB_YESNO                 0x00000004L")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token macro property"}},[s._v("#"),t("span",{pre:!0,attrs:{class:"token directive keyword"}},[s._v("define")]),s._v("     MB_RETRYCANCEL           0x00000005L")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("p",[s._v("在本程序中，MessageBox返回数值1，但更严格地说它返回IDOK，IDOK在WINUSER.H中定义，等于1。根据在消息框中显示的其它按钮，MessageBox函数还可返回IDYES、IDNO、IDCANCEL、IDABORT、 IDRETRY或IDIGNORE。")])])}),[],!1,null,null,null);a.default=e.exports}}]);
(window.webpackJsonp=window.webpackJsonp||[]).push([[97],{529:function(s,a,t){"use strict";t.r(a);var n=t(14),e=Object(n.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("blockquote",[t("p",[s._v("mDNS")])]),s._v(" "),t("h2",{attrs:{id:"什么是mdns"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#什么是mdns"}},[s._v("#")]),s._v(" 什么是mDNS")]),s._v(" "),t("p",[s._v("mDNS:即组播DNS(multicast DNS)，使用5353端口，主要实现了在没有传统DNS服务器的情况下使局域网内的主机实现相互发现和通信。")]),s._v(" "),t("p",[s._v("其实是酱婶的，在客户端和服务端通信过程中（request,socket,websocket,ftp等），我们一般都需要知道对方的域名或者ip/port才能通信。而在发送请求前，域名最终会经过一个叫DNS服务器的地方解析出相应的ip/port才能通信。")]),s._v(" "),t("p",[s._v("在局域网中，各个设备是没有域名的。此时我们只能通过ip/port来通信，但一般情况下各设备的ip是不固定的，它们是由DHCP分配的，在偶尔的掉线重连之后没准ip就变了，而且你也不知道要连接的设备的ip是多少。")]),s._v(" "),t("p",[s._v("基于此，mDNS登场了，它主要实现了设备间的互相发现。")]),s._v(" "),t("h2",{attrs:{id:"mdns原理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#mdns原理"}},[s._v("#")]),s._v(" mDNS原理")]),s._v(" "),t("p",[s._v("组播DNS的原理很简单，当一个设备需要解析一个名称时，如abc.local，这个设备通过UDP协议向本地网络中的所有设备广播一个消息，问谁是abc.local，本地网络中如果有一个设备认为自己是abc.local，它就给出响应，说出自己的IP地址。")]),s._v(" "),t("p",[s._v("因为组播DNS基于UDP协议，采用广播消息的方式，所以不需要一个中心服务器提供DNS解析服务就可以完成本地的名称解析。")]),s._v(" "),t("p",[s._v("Bonjour是苹果为基于组播域名服务mDNS的开放性零设置网络标准所起的名字，能自动发现IP网络上的电脑、设备和服务。Bonjour 使用工业标准的 IP 协议来允许设备自动发现彼此，而不需输入IP 地址或配置DNS 服务器。")]),s._v(" "),t("p",[s._v("为了区分全球域名和本地域名，mDNS协议使用“.local.”作为本地域名的根域名。")]),s._v(" "),t("p",[s._v("比如说这是测试我自己的，Windows10系统。")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("λ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ping")]),s._v(" -4 zjgcjy-surface6.local\n\n正在 Ping zjgcjy-surface6 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".123.2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" 具有 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("32")]),s._v(" 字节的数据:\n来自 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".123.2 的回复: 字节"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("32")]),s._v(" 时间"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("1ms "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("TTL")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("128")]),s._v("\n来自 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".123.2 的回复: 字节"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("32")]),s._v(" 时间"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("1ms "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("TTL")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("128")]),s._v("\n来自 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".123.2 的回复: 字节"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("32")]),s._v(" 时间"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("1ms "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("TTL")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("128")]),s._v("\n来自 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".123.2 的回复: 字节"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("32")]),s._v(" 时间"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("1ms "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("TTL")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("128")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".123.2 的 Ping 统计信息:\n    数据包: 已发送 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("，已接收 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("，丢失 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("% 丢失"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("，\n往返行程的估计时间"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("以毫秒为单位"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(":\n    最短 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 0ms，最长 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 0ms，平均 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 0ms\n\nC:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Users"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("zjgcjy\nλ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ping")]),s._v(" -6 zjgcjy-surface6.local\n\n正在 Ping zjgcjy-surface6 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("fe80::89c4:df44:5e67:f0a4%3"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" 具有 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("32")]),s._v(" 字节的数据:\n来自 fe80::89c4:df44:5e67:f0a4%3 的回复: 时间"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("1ms\n来自 fe80::89c4:df44:5e67:f0a4%3 的回复: 时间"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("1ms\n来自 fe80::89c4:df44:5e67:f0a4%3 的回复: 时间"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("1ms\n来自 fe80::89c4:df44:5e67:f0a4%3 的回复: 时间"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("1ms\n\nfe80::89c4:df44:5e67:f0a4%3 的 Ping 统计信息:\n    数据包: 已发送 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("，已接收 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("，丢失 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("% 丢失"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("，\n往返行程的估计时间"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("以毫秒为单位"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(":\n    最短 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 0ms，最长 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 0ms，平均 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 0ms\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br")])]),t("p",[s._v("发现是支持的。下面再看下raspberry上面怎么样。")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("pi@raspberrypi:~ $ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" systemctl status avahi-daemon.service\n● avahi-daemon.service - Avahi mDNS/DNS-SD Stack\n   Loaded: loaded "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("/lib/systemd/system/avahi-daemon.service"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" enabled"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" vendor preset: enabled"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n   Active: active "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("running"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" since Thu "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2020")]),s._v("-04-30 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v(":16:29 CST"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" 2h 14min ago\n Main PID: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("325")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("avahi-daemon"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n   Status: "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"avahi-daemon 0.7 starting up."')]),s._v("\n    Tasks: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("limit: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4915")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n   Memory: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(".2M\n   CGroup: /system.slice/avahi-daemon.service\n           ├─325 avahi-daemon: running "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("raspberrypi.local"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n           └─350 avahi-daemon: "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("chroot")]),s._v(" helper\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br")])]),t("p",[s._v("那我们修改树莓派的名字，不然有2台一样的就尴尬了。")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("pi@raspberrypi  ~  hostnamectl status\n   Static hostname: raspberrypi\n         Icon name: computer\n        Machine ID: 3bbb4c1971f645f6974a73da0842cf9c\n           Boot ID: 085e062714664329976caa216bd7165e\n  Operating System: Raspbian GNU/Linux "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("buster"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n            Kernel: Linux "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4.19")]),s._v(".97-v7l+\n      Architecture: arm\n\npi@raspberrypi  ~  "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" hostnamectl set-hostname zjgcjy-raspberry\npi@raspberrypi  ~  "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" systemctl status hostname.service\nsudo: unable to resolve "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("host")]),s._v(" zjgcjy-raspberry: Name or "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" not known\n● hostname.service\n   Loaded: masked "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Reason: Unit hostname.service is masked."),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n   Active: inactive "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("dead"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\npi@raspberrypi  ~  "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" systemctl restart avahi-daemon.service\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br")])]),t("p",[s._v("同时修改"),t("code",[s._v("/etc/hosts")]),s._v("里面的名字，重启之后发现ipv4和ipv6都可以ping通。但是有点奇怪，ipv6下，树莓派不能ping通自己和我电脑，也ping不通百度的ipv6网站，却可以ping通tuna的网站，搞了很久没法解决。可能是icmpv6被阻塞了？但为什么tuna可以，而且本地也不应该被阻塞吧。也有可能是DNS的问题，")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("λ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ping")]),s._v(" -4 zjgcjy-raspberry.local\n正在 Ping zjgcjy-raspberry.local "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".123.7"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" 具有 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("32")]),s._v(" 字节的数据:\n来自 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".123.7 的回复: 字节"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("32")]),s._v(" 时间"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("2ms "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("TTL")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("64")]),s._v("\n来自 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".123.7 的回复: 字节"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("32")]),s._v(" 时间"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("3ms "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("TTL")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("64")]),s._v("\n来自 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".123.7 的回复: 字节"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("32")]),s._v(" 时间"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("4ms "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("TTL")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("64")]),s._v("\n来自 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".123.7 的回复: 字节"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("32")]),s._v(" 时间"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("2ms "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("TTL")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("64")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".123.7 的 Ping 统计信息:\n    数据包: 已发送 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("，已接收 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("，丢失 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("% 丢失"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("，\n往返行程的估计时间"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("以毫秒为单位"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(":\n    最短 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 2ms，最长 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 4ms，平均 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 2ms\n\nλ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ping")]),s._v(" -6 zjgcjy-raspberry.local\n正在 Ping zjgcjy-raspberry.local "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("240e:3a1:54e2:2970:5d51:c8a9:aad9:92a1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" 具有 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("32")]),s._v(" 字节的数据:\n来自 240e:3a1:54e2:2970:5d51:c8a9:aad9:92a1 的回复: 时间"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("3ms\n来自 240e:3a1:54e2:2970:5d51:c8a9:aad9:92a1 的回复: 时间"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("2ms\n来自 240e:3a1:54e2:2970:5d51:c8a9:aad9:92a1 的回复: 时间"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("3ms\n来自 240e:3a1:54e2:2970:5d51:c8a9:aad9:92a1 的回复: 时间"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("3ms\n\n240e:3a1:54e2:2970:5d51:c8a9:aad9:92a1 的 Ping 统计信息:\n    数据包: 已发送 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("，已接收 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("，丢失 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("% 丢失"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("，\n往返行程的估计时间"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("以毫秒为单位"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(":\n    最短 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 2ms，最长 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 3ms，平均 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 2ms\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br")])]),t("h2",{attrs:{id:"hosts与hostname与ipv6"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#hosts与hostname与ipv6"}},[s._v("#")]),s._v(" hosts与hostname与ipv6")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("RT-AC54U /home/root"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cat /etc/hosts")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1 localhost.localdomain localhost\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".123.1 RT-AC54U.lan RT-AC54U\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".123.1 my.router\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".123.1 my.pdcn\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".123.2 zjgcjy-surface6\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".123.3 ZJGCJY-HP450\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".123.4 MIX2S-MIX2S\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".123.5 iPhone-5p\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".123.7 Pi\n::1 localhost.localdomain localhost\n\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("RT-AC54U /home/root"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cat /etc/hostname")]),s._v("\nRT-AC54U\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br")])]),t("p",[s._v("zjgcjy-raspberry.local.ipv6-literal.net\npi.lan\n240e-3a1-54e2-f120--2.ipv6-literal.net")]),s._v(" "),t("h2",{attrs:{id:"ipv6-访问"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ipv6-访问"}},[s._v("#")]),s._v(" IPv6 访问")]),s._v(" "),t("p",[s._v("因为ipv6有冒号，直接输入url会有问题。而且SMB也不支持冒号访问。\n微软官方想了一个歪招，他们注册了一个域名 ipv6-literal.net，然后在 Windows 系统中，将 IPv6 地址中的冒号换成横线作为 ipv6-literal.net子域名。")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("λ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ping")]),s._v(" -6 240e-3a1-54e2-f120--2.ipv6-literal.net\n\n正在 Ping 240e:3a1:54e2:f120::2 具有 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("32")]),s._v(" 字节的数据:\n来自 240e:3a1:54e2:f120::2 的回复: 时间"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("1ms\n来自 240e:3a1:54e2:f120::2 的回复: 时间"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("1ms\n来自 240e:3a1:54e2:f120::2 的回复: 时间"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("1ms\n来自 240e:3a1:54e2:f120::2 的回复: 时间"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("1ms\n\n240e:3a1:54e2:f120::2 的 Ping 统计信息:\n    数据包: 已发送 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("，已接收 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("，丢失 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("% 丢失"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("，\n往返行程的估计时间"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("以毫秒为单位"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(":\n    最短 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 1ms，最长 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 1ms，平均 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 1ms\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br")])]),t("p",[s._v("这是微软官方推出的一个类似于 ip6.name 的服务，但是有趣的是，这里和 ip6.name、xip.io有一个很大的区别，系统是不会真正发送 DNS 请求的，这个域名仿佛内置在 Windows 操作系统中，与生俱来就存在。")]),s._v(" "),t("p",[s._v("所以，你会发现，其实 ipv6-literal.net 这个域名微软早就已经不续费了（现在的所有者是Godaddy），但我们仍然可以直接在浏览器里通过 0--1.ipv6-literal.net 来访问到 ::1，也就是我们的本地地址。")]),s._v(" "),t("p",[s._v("所以，我们访问共享时不必使用 \\[fe80::2]\\share，而是直接使用 \\fe80--2.ipv6-literal.net\\share来解决不支持问题。")]),s._v(" "),t("h2",{attrs:{id:"参考文献"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#参考文献"}},[s._v("#")]),s._v(" 参考文献")]),s._v(" "),t("p",[t("a",{attrs:{href:"https://blog.csdn.net/u011031257/article/details/80812180",target:"_blank",rel:"noopener noreferrer"}},[s._v("raspberrypi.local 为什么可以ping通以及ssh登录"),t("OutboundLink")],1),s._v(" "),t("a",{attrs:{href:"https://www.jianshu.com/p/e66b0d400807",target:"_blank",rel:"noopener noreferrer"}},[s._v("小程序开发必备的高级能力之四：mDNS"),t("OutboundLink")],1),s._v(" "),t("a",{attrs:{href:"https://vircloud.net/exp/unc-ipv6.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("Windows 下 UNC Path（SMB）不支持 IPv6 冒号的解决办法"),t("OutboundLink")],1)])])}),[],!1,null,null,null);a.default=e.exports}}]);